(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var n,l=c(11),o=c.n(l),a=c(5),i=(c(17),c(18),c(19),c(2)),s=c(10),r=c(8),d=c(4),j=c(0),u=c(12),b=c.n(u),f=c(1),m=function(e){var t=e.todo,c=e.index,n=e.destroyHandler,l=e.toggleClass,o=e.changeTodo,a=Object(j.useState)(-1),i=Object(d.a)(a,2),s=i[0],r=i[1],u=Object(j.useState)(""),m=Object(d.a)(u,2),O=m[0],p=m[1],h=function(e){r(e)};return Object(f.jsxs)("li",{className:b()({completed:t.completed,editing:s===c}),"data-cy":"toggleAll",children:[Object(f.jsxs)("div",{className:"view",children:[Object(f.jsx)("input",{type:"checkbox",checked:t.completed,className:"toggle",onChange:function(){l(c)}}),Object(f.jsx)("label",{htmlFor:"toggle-view",onDoubleClick:function(){h(c),p(t.title)},children:t.title}),Object(f.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo","aria-label":"Delete todo",onClick:function(){n(c)}})]}),Object(f.jsx)("input",{ref:function(e){return e&&e.focus()},type:"text",id:"editTodo",value:O,className:"edit",onChange:function(e){p(e.target.value)},onBlur:function(e){var t=e.target;-1!==s&&(0!==t.value.length&&""!==t.value.trim()?(h(-1),o(O,c)):(h(-1),n(c)))},onKeyDown:function(e){var t=e.target;"Enter"===e.key&&(0!==t.value.length&&""!==t.value.trim()?(h(-1),o(O,c)):(h(-1),n(c))),"keydown"===e.type&&"Escape"===e.key&&h(-1)}})]},c)},O=function(e){var t=e.todoList,c=e.destroyHandler,n=e.toggleClass,l=e.changeTodo,o=e.toggleAll;return Object(f.jsxs)("section",{className:"main",children:[Object(f.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all"}),Object(f.jsx)("label",{onClick:o,htmlFor:"toggle-all",children:"Mark all as complete"}),Object(f.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t.map((function(e,t){return Object(f.jsx)(m,{todo:e,index:t,destroyHandler:c,toggleClass:n,changeTodo:l})}))})]})};!function(e){e.All="",e.Active="active",e.Completed="completed"}(n||(n={}));var p=function(e){var t=e.todoList,c=e.clearHandler,l=e.filter,o=t.filter((function(e){return!e.completed})).length;return Object(f.jsxs)("footer",{className:"footer",children:[Object(f.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(o,1===o?" item left":" items left")}),Object(f.jsxs)("ul",{className:"filters",children:[Object(f.jsx)("li",{children:Object(f.jsx)(a.b,{to:n.All,className:l!==n.Active&&l!==n.Completed?"selected":"",children:"All"})}),Object(f.jsx)("li",{children:Object(f.jsx)(a.b,{className:l===n.Active?"selected":"",to:n.Active,children:"Active"})}),Object(f.jsx)("li",{children:Object(f.jsx)(a.b,{className:l===n.Completed?"selected":"",to:n.Completed,children:"Completed"})})]}),t.find((function(e){return!0===e.completed}))&&Object(f.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){c()},children:"Clear completed"})]})},h=function(){var e=Object(i.g)().todoFilter,t=Object(j.useState)(""),c=Object(d.a)(t,2),l=c[0],o=c[1],a=Object(j.useState)(function(){var e=localStorage.getItem("todoList");return null===e?[]:JSON.parse(e)}()),u=Object(d.a)(a,2),b=u[0],m=u[1],h=Object(j.useState)([]),g=Object(d.a)(h,2),x=g[0],v=g[1];Object(j.useEffect)((function(){switch(e){case n.Active:v(b.filter((function(e){return!1===e.completed})));break;case n.Completed:v(b.filter((function(e){return!0===e.completed})));break;case n.All:default:v(b)}}),[b,e]),Object(j.useEffect)((function(){!function(e){localStorage.setItem("todoList",JSON.stringify(e))}(b)}),[b]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("h1",{children:"todos"}),Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault(),0!==l.length&&""!==l.trim()&&(m([].concat(Object(r.a)(b),[{id:+new Date,completed:!1,title:l}])),o(""))},children:Object(f.jsx)("input",{"data-cy":"createTodo",type:"text",className:"new-todo",placeholder:"What needs to be done?",id:"idinput",value:l,onChange:function(e){o(e.target.value)}})})]}),Object(f.jsx)(O,{todoList:x,destroyHandler:function(e){var t=b.filter((function(t,c){return c!==e}));m(t)},toggleClass:function(e){var t=Object(r.a)(b);t[e].completed=!t[e].completed,m(t)},changeTodo:function(e,t){var c=Object(r.a)(b);c[t].title=e,m(c)},toggleAll:function(){var e=!0;void 0===b.find((function(e){return!1===e.completed}))&&(e=!1);var t=b.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{completed:e})}));m(t)}}),b.length>0&&Object(f.jsx)(p,{todoList:b,clearHandler:function(){m(b.filter((function(e){return!1===e.completed})))},filter:e})]})},g=function(){return Object(f.jsx)("section",{className:"todoapp",children:Object(f.jsx)(i.c,{children:Object(f.jsxs)(i.a,{path:"/",element:Object(f.jsx)(h,{}),children:[Object(f.jsx)(i.a,{index:!0,element:Object(f.jsx)(h,{})}),Object(f.jsx)(i.a,{path:":todoFilter",element:Object(f.jsx)(h,{})})]})})})};o.a.render(Object(f.jsx)(a.a,{children:Object(f.jsx)(g,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.d89c7ec9.chunk.js.map